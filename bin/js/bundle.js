var __extends = (this && this.__extends) || (function () {
    var extendStatics = Object.setPrototypeOf ||
        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };
    return function (d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    };
})();
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
var laya;
(function (laya) {
    var Sprite = Laya.Sprite;
    var Stage = Laya.Stage;
    var WebGL = Laya.WebGL;
    var Sprite_DrawShapes = /** @class */ (function () {
        function Sprite_DrawShapes() {
            // 不支持WebGL时自动切换至Canvas
            Laya.init(1000, 1000, WebGL);
            Laya.stage.alignV = Stage.ALIGN_MIDDLE;
            Laya.stage.alignH = Stage.ALIGN_CENTER;
            Laya.stage.scaleMode = "showall";
            Laya.stage.bgColor = "white";
            this.drawMap();
        }
        //画地图
        Sprite_DrawShapes.prototype.drawMap = function () {
            var a = new Array();
            for (var m = 0; m < 100; m++) {
                a[m] = new Array();
                for (var n = 0; n < 100; n++) {
                    a[m][n] = m + n;
                }
            }
            this.sp = new Sprite();
            Laya.stage.addChild(this.sp);
            //画矩形
            for (var i = 0; i < 100; i++) {
                //[m,n]随机取整表达式Math.floor(Math.random()*(m-n)+n);
                var randomy0 = Math.floor(Math.random() * (1 - 100) + 100);
                var randomy1 = Math.floor(Math.random() * (1 - 100) + 100);
                var randomy2 = Math.floor(Math.random() * (1 - 100) + 100);
                var randomy3 = Math.floor(Math.random() * (1 - 100) + 100);
                for (var j = 0; j < 100; j++) {
                    if (randomy0 == j || randomy1 == j || randomy2 == j || randomy3 == j) {
                        this.sp.graphics.drawRect(10 * i, 10 * j, 10, 10, "white");
                        this.x = 10 * i;
                        this.y = 10 * j;
                        this.color = "white";
                        this.pos = [this.x, this.y, this.color];
                        a[i][j] = this.pos;
                    }
                    else if (i % 2 == 0) {
                        this.sp.graphics.drawRect(10 * i, 10 * j, 10, 10, "white");
                        this.x = 10 * i;
                        this.y = 10 * j;
                        this.color = "white";
                        this.pos = [this.x, this.y, this.color];
                        a[i][j] = this.pos;
                    }
                    else {
                        this.sp.graphics.drawRect(10 * i, 10 * j, 10, 10, "black");
                        this.x = 10 * i;
                        this.y = 10 * j;
                        this.color = "black";
                        this.pos = [this.x, this.y, this.color];
                        a[i][j] = this.pos;
                    }
                }
            }
            for (var i = 0; i < 100; i++)
                for (var j = 0; j < 100; j++) {
                    if (i % 2 != 0 && a[i][j][2] == "white")
                        this.sp.graphics.drawRect(10 * i, 10 * j, 10, 10, "red");
                }
            for (var i = 0; i < 100; i++)
                for (var j = 0; j < 100; j++) {
                    if (i % 2 == 0 && a[i][j][2] == "white" && a[i + 1][j] == "red")
                        this.sp.graphics.drawRect(10 * i, 10 * j, 10, 10, "white");
                }
        };
        return Sprite_DrawShapes;
    }());
    laya.Sprite_DrawShapes = Sprite_DrawShapes;
})(laya || (laya = {}));
new laya.Sprite_DrawShapes();
},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL0xheWEvcmVzb3VyY2VzL2FwcC9ub2RlX21vZHVsZXMvYnJvd3Nlci1wYWNrL19wcmVsdWRlLmpzIiwic3JjL01haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ1RBLElBQU8sSUFBSSxDQW1GVjtBQW5GRCxXQUFPLElBQUk7SUFDUCxJQUFPLE1BQU0sR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBQzVCLElBQU8sS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7SUFDMUIsSUFBTyxLQUFLLEdBQUcsSUFBSSxDQUFDLEtBQUssQ0FBQztJQUUxQjtRQU9JO1lBRUksdUJBQXVCO1lBQ3ZCLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUMsQ0FBQztZQUU3QixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDO1lBQ3ZDLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUM7WUFFdkMsSUFBSSxDQUFDLEtBQUssQ0FBQyxTQUFTLEdBQUcsU0FBUyxDQUFDO1lBQ2pDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxHQUFHLE9BQU8sQ0FBQztZQUM3QixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDbkIsQ0FBQztRQUNELEtBQUs7UUFDRyxtQ0FBTyxHQUFmO1lBQ0ksSUFBSSxDQUFDLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztZQUNwQixLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxFQUFDO2dCQUNsQixDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxLQUFLLEVBQUUsQ0FBQztnQkFDbkIsS0FBSSxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUUsRUFBQztvQkFDbEIsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsR0FBQyxDQUFDLENBQUM7aUJBQ2pCO2FBQ0o7WUFDRCxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksTUFBTSxFQUFFLENBQUM7WUFDdkIsSUFBSSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3RDLEtBQUs7WUFDTCxLQUFJLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxFQUFDO2dCQUNULGdEQUFnRDtnQkFDaEQsSUFBSSxRQUFRLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDLEdBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ25ELElBQUksUUFBUSxHQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFDLENBQUMsQ0FBQyxHQUFDLEdBQUcsQ0FBQyxHQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNuRCxJQUFJLFFBQVEsR0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBQyxDQUFDLENBQUMsR0FBQyxHQUFHLENBQUMsR0FBQyxHQUFHLENBQUMsQ0FBQztnQkFDbkQsSUFBSSxRQUFRLEdBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUMsQ0FBQyxDQUFDLEdBQUMsR0FBRyxDQUFDLEdBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQ25ELEtBQUksSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFFLEVBQUM7b0JBQ2xCLElBQUksUUFBUSxJQUFFLENBQUMsSUFBRSxRQUFRLElBQUUsQ0FBQyxJQUFFLFFBQVEsSUFBRSxDQUFDLElBQUUsUUFBUSxJQUFFLENBQUMsRUFBQzt3QkFDbkQsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO3dCQUN2RCxJQUFJLENBQUMsQ0FBQyxHQUFDLEVBQUUsR0FBQyxDQUFDLENBQUM7d0JBQ1osSUFBSSxDQUFDLENBQUMsR0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDO3dCQUNaLElBQUksQ0FBQyxLQUFLLEdBQUMsT0FBTyxDQUFDO3dCQUNuQixJQUFJLENBQUMsR0FBRyxHQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDcEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7cUJBQ3BCO3lCQUNJLElBQUcsQ0FBQyxHQUFDLENBQUMsSUFBRSxDQUFDLEVBQ2Q7d0JBQ0ksSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBQyxDQUFDO3dCQUN2RCxJQUFJLENBQUMsQ0FBQyxHQUFDLEVBQUUsR0FBQyxDQUFDLENBQUM7d0JBQ1osSUFBSSxDQUFDLENBQUMsR0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDO3dCQUNaLElBQUksQ0FBQyxLQUFLLEdBQUMsT0FBTyxDQUFDO3dCQUNuQixJQUFJLENBQUMsR0FBRyxHQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQyxFQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQzt3QkFDcEMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxHQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7cUJBQ3BCO3lCQUNHO3dCQUNBLElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQzt3QkFDdkQsSUFBSSxDQUFDLENBQUMsR0FBQyxFQUFFLEdBQUMsQ0FBQyxDQUFDO3dCQUNaLElBQUksQ0FBQyxDQUFDLEdBQUMsRUFBRSxHQUFDLENBQUMsQ0FBQzt3QkFDWixJQUFJLENBQUMsS0FBSyxHQUFDLE9BQU8sQ0FBQzt3QkFDbkIsSUFBSSxDQUFDLEdBQUcsR0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLENBQUMsRUFBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7d0JBQ3BDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDO3FCQUNwQjtpQkFDUjthQUNKO1lBQ0QsS0FBSyxJQUFJLENBQUMsR0FBQyxDQUFDLEVBQUMsQ0FBQyxHQUFDLEdBQUcsRUFBQyxDQUFDLEVBQUU7Z0JBQ2xCLEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFFLEVBQUM7b0JBQ2YsSUFBSSxDQUFDLEdBQUMsQ0FBQyxJQUFFLENBQUMsSUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUUsT0FBTzt3QkFDL0IsSUFBSSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUMsUUFBUSxDQUFDLEVBQUUsR0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFDLENBQUMsRUFBRSxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssQ0FBQyxDQUFDO2lCQUM1RDtZQUNELEtBQUssSUFBSSxDQUFDLEdBQUMsQ0FBQyxFQUFDLENBQUMsR0FBQyxHQUFHLEVBQUMsQ0FBQyxFQUFFO2dCQUN0QixLQUFLLElBQUksQ0FBQyxHQUFDLENBQUMsRUFBQyxDQUFDLEdBQUMsR0FBRyxFQUFDLENBQUMsRUFBRSxFQUFDO29CQUNmLElBQUksQ0FBQyxHQUFDLENBQUMsSUFBRSxDQUFDLElBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFFLE9BQU8sSUFBRSxDQUFDLENBQUMsQ0FBQyxHQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFFLEtBQUs7d0JBQ2pELElBQUksQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxFQUFFLEdBQUMsQ0FBQyxFQUFFLEVBQUUsR0FBQyxDQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxPQUFPLENBQUMsQ0FBQztpQkFDOUQ7UUFFVCxDQUFDO1FBQ0wsd0JBQUM7SUFBRCxDQTdFSSxBQTZFSCxJQUFBO0lBN0VnQixzQkFBaUIsb0JBNkVqQyxDQUFBO0FBQ0QsQ0FBQyxFQW5GTSxJQUFJLEtBQUosSUFBSSxRQW1GVjtBQUNELElBQUksSUFBSSxDQUFDLGlCQUFpQixFQUFFLENBQUMiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbInZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG4oZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiXHJcbm1vZHVsZSBsYXlhIHtcclxuICAgIGltcG9ydCBTcHJpdGUgPSBMYXlhLlNwcml0ZTtcclxuICAgIGltcG9ydCBTdGFnZSA9IExheWEuU3RhZ2U7XHJcbiAgICBpbXBvcnQgV2ViR0wgPSBMYXlhLldlYkdMO1xyXG5cclxuICAgIGV4cG9ydCBjbGFzcyBTcHJpdGVfRHJhd1NoYXBlcyB7XHJcbiAgICAgICAgcHJpdmF0ZSBzcDogU3ByaXRlO1xyXG4gICAgICAgIHB1YmxpYyB4Om51bWJlcjtcclxuICAgICAgICBwdWJsaWMgeTpudW1iZXI7XHJcbiAgICAgICAgcHVibGljIGNvbG9yOnN0cmluZztcclxuICAgICAgICBwdWJsaWMgcG9zOltudW1iZXIsbnVtYmVyLHN0cmluZ107XHJcblxyXG4gICAgICAgIGNvbnN0cnVjdG9yKClcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIOS4jeaUr+aMgVdlYkdM5pe26Ieq5Yqo5YiH5o2i6IezQ2FudmFzXHJcbiAgICAgICAgICAgIExheWEuaW5pdCgxMDAwLCAxMDAwLCBXZWJHTCk7XHJcblxyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLmFsaWduViA9IFN0YWdlLkFMSUdOX01JRERMRTtcclxuICAgICAgICAgICAgTGF5YS5zdGFnZS5hbGlnbkggPSBTdGFnZS5BTElHTl9DRU5URVI7XHJcblxyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLnNjYWxlTW9kZSA9IFwic2hvd2FsbFwiO1xyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLmJnQ29sb3IgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgICAgIHRoaXMuZHJhd01hcCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvL+eUu+WcsOWbvlxyXG4gICAgICAgIHByaXZhdGUgZHJhd01hcCgpOiB2b2lkIHtcclxuICAgICAgICAgICAgdmFyIGEgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICAgICAgZm9yKHZhciBtPTA7bTwxMDA7bSsrKXsgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgYVttXSA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBuPTA7bjwxMDA7bisrKXsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgYVttXVtuXSA9IG0rbjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLnNwID0gbmV3IFNwcml0ZSgpO1xyXG4gICAgICAgICAgICBMYXlhLnN0YWdlLmFkZENoaWxkKHRoaXMuc3ApO1xyXG5cdFx0XHQvL+eUu+efqeW9olxyXG5cdFx0XHRmb3IobGV0IGk9MDtpPDEwMDtpKyspe1xyXG4gICAgICAgICAgICAgICAgLy9bbSxuXemaj+acuuWPluaVtOihqOi+vuW8j01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoobS1uKStuKTtcclxuICAgICAgICAgICAgICAgIGxldCByYW5kb215MD1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKDEtMTAwKSsxMDApO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJhbmRvbXkxPU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSooMS0xMDApKzEwMCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmFuZG9teTI9TWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKigxLTEwMCkrMTAwKTtcclxuICAgICAgICAgICAgICAgIGxldCByYW5kb215Mz1NYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqKDEtMTAwKSsxMDApO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBqPTA7ajwxMDA7aisrKXtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocmFuZG9teTA9PWp8fHJhbmRvbXkxPT1qfHxyYW5kb215Mj09anx8cmFuZG9teTM9PWope1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwLmdyYXBoaWNzLmRyYXdSZWN0KDEwKmksIDEwKmosIDEwLCAxMCwgXCJ3aGl0ZVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54PTEwKmk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueT0xMCpqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yPVwid2hpdGVcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3M9W3RoaXMueCx0aGlzLnksdGhpcy5jb2xvcl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbaV1bal09dGhpcy5wb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoaSUyPT0wKVxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zcC5ncmFwaGljcy5kcmF3UmVjdCgxMCppLCAxMCpqLCAxMCwgMTAsIFwid2hpdGVcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueD0xMCppO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnk9MTAqajtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2xvcj1cIndoaXRlXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucG9zPVt0aGlzLngsdGhpcy55LHRoaXMuY29sb3JdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhW2ldW2pdPXRoaXMucG9zO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNwLmdyYXBoaWNzLmRyYXdSZWN0KDEwKmksIDEwKmosIDEwLCAxMCwgXCJibGFja1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54PTEwKmk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMueT0xMCpqO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbG9yPVwiYmxhY2tcIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wb3M9W3RoaXMueCx0aGlzLnksdGhpcy5jb2xvcl07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFbaV1bal09dGhpcy5wb3M7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZvciAobGV0IGk9MDtpPDEwMDtpKyspXHJcbiAgICAgICAgICAgIGZvciAobGV0IGo9MDtqPDEwMDtqKyspe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChpJTIhPTAmJmFbaV1bal1bMl09PVwid2hpdGVcIilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNwLmdyYXBoaWNzLmRyYXdSZWN0KDEwKmksIDEwKmosIDEwLCAxMCwgXCJyZWRcIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZm9yIChsZXQgaT0wO2k8MTAwO2krKylcclxuICAgICAgICAgICAgZm9yIChsZXQgaj0wO2o8MTAwO2orKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGklMj09MCYmYVtpXVtqXVsyXT09XCJ3aGl0ZVwiJiZhW2krMV1bal09PVwicmVkXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zcC5ncmFwaGljcy5kcmF3UmVjdCgxMCppLCAxMCpqLCAxMCwgMTAsIFwid2hpdGVcIik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICB9XHJcbn1cclxufVxyXG5uZXcgbGF5YS5TcHJpdGVfRHJhd1NoYXBlcygpO1xyXG4iXX0=
